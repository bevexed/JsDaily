{"version":3,"sources":["../../Promise/promise.js"],"names":["promise","Promise","resolve","reject","a","value","error","then","getJSON","url","client","XMLHttpRequest","open","onreadystatechange","handler","responseType","setRequestHeader","send","readyState","status","response","Error","statusText"],"mappings":";;AAAA,IAAIA,UAAU,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAC3C;AACA,QAAIC,IAAI,IAAR;AACA,QAAIA,CAAJ,EAAO;AACHF,gBAAQG,KAAR;AACH,KAFD,MAEO;AACHF,eAAOG,KAAP;AACH;AAEJ,CATa,CAAd;;AAWAN,QAAQO,IAAR,CAAa,UAACF,KAAD,EAAW;AACpB;AACH,CAFD,EAEG,UAACC,KAAD,EAAW;AACV;AACH,CAJD;AAKA;AACA,IAAIE,UAAU,SAAVA,OAAU,CAAUC,GAAV,EAAe;AACzB,QAAIT,UAAU,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AACjD,YAAIO,SAAS,IAAIC,cAAJ,EAAb;AACAD,eAAOE,IAAP,CAAY,KAAZ,EAAmBH,GAAnB;AACAC,eAAOG,kBAAP,GAA4BC,OAA5B;AACAJ,eAAOK,YAAP,GAAsB,MAAtB;AACAL,eAAOM,gBAAP,CAAwB,QAAxB,EAAkC,kBAAlC;AACAN,eAAOO,IAAP;;AAEA,iBAASH,OAAT,GAAmB;AACf,gBAAI,KAAKI,UAAL,KAAoB,CAAxB,EAA0B;AACtB;AACH;AACD,gBAAI,KAAKC,MAAL,KAAgB,GAApB,EAAwB;AACpBjB,wBAAQ,KAAKkB,QAAb;AACH,aAFD,MAEM;AACFjB,uBAAO,IAAIkB,KAAJ,CAAU,KAAKC,UAAf,CAAP;AACH;AACJ;AACJ,KAlBa,CAAd;AAmBH,CApBD","file":"promise.js","sourcesContent":["let promise = new Promise((resolve, reject) => {\n    //...some code\n    let a = true\n    if (a) {\n        resolve(value)\n    } else {\n        reject(error)\n    }\n\n})\n\npromise.then((value) => {\n    //success\n}, (error) => {\n    //failure\n})\n// promise封装ajax\nlet getJSON = function (url) {\n    let promise = new Promise(function (resolve, reject) {\n        let client = new XMLHttpRequest();\n        client.open('GET', url);\n        client.onreadystatechange = handler;\n        client.responseType = \"json\";\n        client.setRequestHeader(\"Accept\", \"application/json\");\n        client.send();\n\n        function handler() {\n            if (this.readyState !== 4){\n                return;\n            }\n            if (this.status === 200){\n                resolve(this.response)\n            }else {\n                reject(new Error(this.statusText))\n            }\n        }\n    })\n}\n\n"]}